package com.timrobles.view {    import flash.display.Sprite;        import com.timrobles.view.events.TransitionEvent;        /**     * @author Tim Robles     */    public class BaseViewController extends Sprite    {    	//----------------------------------    	//  Protected Members    	//----------------------------------    	    	protected var componentList:Array;    	protected var inQueue:Array;    	protected var outQueue:Array;    	    	//--------------------------------------------------------------------------    	//    	//  Constructor    	//    	//--------------------------------------------------------------------------    	    	public function BaseViewController()     	{    		super();    		init();    	}    	    	//--------------------------------------------------------------------------    	//    	//  Event Handlers    	//    	//--------------------------------------------------------------------------    	    	protected function hideCompleteHandler(transitionEvent:TransitionEvent):void    	{    		var component:BaseViewComponent = BaseViewComponent(transitionEvent.target);    		component.removeEventListener(TransitionEvent.TRANSITION_OUT_COMPLETE, hideCompleteHandler);    		component.deconstruct();    		if (outQueue.length == 0)            {            	while (inQueue.length > 0)            	{            		BaseViewComponent(inQueue.pop()).show();            	}            	dispatchEvent(new TransitionEvent(TransitionEvent.TRANSITION_IN_COMPLETE));            }            else            {            	BaseViewComponent(outQueue.shift()).hide();            }    	}    	    	//--------------------------------------------------------------------------    	//    	//  Protected Methods    	//    	//--------------------------------------------------------------------------    	    	protected function init():void    	{    		componentList = [];    		inQueue = [];    		outQueue = [];    	}    	    	protected function activateComponents(...list):void        {        	for each (var component:BaseViewComponent in componentList)            {            	if (list.indexOf(component) > -1)            	{            		inQueue.push(component);            	}                else                {                    component.addEventListener(TransitionEvent.TRANSITION_OUT_COMPLETE, hideCompleteHandler);                    outQueue.push(component);                }            }                        if (outQueue.length > 1)                BaseViewComponent(outQueue.shift()).hide();        }    }}